<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head"/><link rel="preload" href="/_next/static/AM14GnVzd4TuMXCwbW_S3/pages/guides/command-line-interface.js" as="script"/><link rel="preload" href="/_next/static/AM14GnVzd4TuMXCwbW_S3/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/AM14GnVzd4TuMXCwbW_S3/pages/_error.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-42652fa8b82c329c0559.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.f702609f3499fbcc7736.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-800a4adf7c4f804bfe9c.js" as="script"/><link rel="stylesheet" href="/static/css/blueprint.css"/><link rel="stylesheet" href="/static/css/normalize.css"/><link rel="stylesheet" href="/static/css/highlight.css"/><link rel="stylesheet" href="/static/css/core.css"/><link rel="shortcut icon" href="/static/images/logo.png" type="image/png"/><script type="text/javascript" src="/static/js/inline.js"></script></head><body style="margin:0px;background-color:#f8f9fa;font-family:Lato, Roboto, &quot;Helvetica Neue&quot;, Arial, sans-serif;color:#495057;font-size:1rem;font-weight:400;line-height:1.5"><div class="bp3-navbar bp3-fixed-top hideInline" title="Dataform"><div class="bp3-navbar-group bp3-align-left"><img src="/static/images/logo_with_text.svg" style="height:100%;opacity:0.9"/></div><div class="bp3-navbar-group bp3-align-right"><a style="height:100%;padding:10px" href="https://github.com/tada-science/dataform"><img style="filter:invert(100%);height:100%" src="/static/images/github_logo.png"/></a></div></div><div style="height:50px" class="hideInline"></div><div style="padding:20px;width:100%;max-width:960px;margin:auto"><div id="__next"><div style="display:flex;flex-direction:row"><div style="width:280px;min-width:280px;padding:10px" class="hideInline"><div><h3>Guides</h3><ul style="background-color:transparent" class="bp3-menu"><li class=""><a href="/guides/assertions" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Assertions</div></a></li><li class=""><a href="/guides/configuration" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Configuration</div></a></li><li class=""><a href="/guides/core-concepts" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Core concepts</div></a></li><li class=""><a href="/guides/includes" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Includes</div></a></li><li class=""><a href="/guides/js-api" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">JS API</div></a></li><li class=""><a href="/guides/operations" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Operations</div></a></li><li class=""><a href="/guides/materializations" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Materializations</div></a></li><li class=""><a href="/guides/command-line-interface" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Command line interface</div></a></li></ul><h3>Reference</h3><ul style="background-color:transparent" class="bp3-menu"><li class=""><a href="/reference/assertions" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Assertions</div></a></li><li class=""><a href="/reference/contextable" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Contextable&lt;&gt; Class</div></a></li><li class=""><a href="/reference/dataform-json" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">dataform.json</div></a></li><li class=""><a href="/reference/js-api" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">JS API</div></a></li><li class=""><a href="/reference/materialization-config" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">MaterializationConfig Class</div></a></li><li class=""><a href="/reference/operations" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Operations</div></a></li><li class=""><a href="/reference/materializations" class="bp3-menu-item bp3-popover-dismiss"><div class="bp3-text-overflow-ellipsis bp3-fill">Materializations</div></a></li></ul></div></div><div style="flex-grow:1"><h1>Command line interface</h1><div><h2>Installation</h2><p>Dataform can be installed via Node:</p><pre><code class="hljs language-bash" metaString="">npm i -g @dataform/cli</code></pre><h2>Create new project</h2><p>To create a new project in the folder <code>new_project</code>:</p><pre><code class="hljs language-bash" metaString="">dataform init new_project --warehouse bigquery</code></pre><p>Currently supported warehouse types are <code>[bigquery, redshift, snowflake, postgres]</code></p><h2>Project structure</h2><p>The default project structure is as follows:</p><pre><code class="hljs language-bash" metaString="">project-dir
├── definitions
├── includes
├── package.json
└── dataform.json</code></pre><h2>Define a materialization</h2><p>The <code>definitions/</code> directory contains files that define <a href="/materializations">materializations</a>, <a href="/assertions">assertions</a>, and <a href="/operations">operations</a>.</p><p>To create a new materialization, create a new file such as <code>definitions/simplemodel.sql</code> with the following contents:</p><pre><code class="hljs language-sql" metaString=""><span class="hljs-keyword">select</span> <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">test</span></code></pre><h2>Compile project</h2><p>To check everything has worked, run the following command at the root of your project directory to get JSON dump of the compiled project:</p><pre><code class="hljs language-bash" metaString="">dataform compile</code></pre><p>You should see output along the lines of:</p><pre><code class="hljs language-json" metaString="">{
  <span class="hljs-attr">&quot;materializations&quot;</span>: [
    {
      <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;simplemodel&quot;</span>,
      <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;view&quot;</span>,
      <span class="hljs-attr">&quot;target&quot;</span>: {
        <span class="hljs-attr">&quot;schema&quot;</span>: <span class="hljs-string">&quot;dataform&quot;</span>,
        <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;simplemodel&quot;</span>
      },
      <span class="hljs-attr">&quot;query&quot;</span>: <span class="hljs-string">&quot;select 1 as test
&quot;</span>,
      <span class="hljs-attr">&quot;parsedColumns&quot;</span>: [
        <span class="hljs-string">&quot;test&quot;</span>
      ],
      <span class="hljs-attr">&quot;fileName&quot;</span>: <span class="hljs-string">&quot;definitions/simplemodel.sql&quot;</span>
    }
  ]
}</code></pre><h2>Dry run</h2><p>We can take this a step further and see exactly what statements and graph will be run, by executing the following:</p><pre><code class="hljs language-bash" metaString="">dataform build</code></pre><p>You should see something similar to the following:</p><pre><code class="hljs language-json" metaString="">{
  <span class="hljs-attr">&quot;nodes&quot;</span>: [
    {
      <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;simplemodel&quot;</span>,
      <span class="hljs-attr">&quot;tasks&quot;</span>: [
        {
          <span class="hljs-attr">&quot;statement&quot;</span>: <span class="hljs-string">&quot;create or replace view `dataform.simplemodel`
           as select * from (select 1 as test)&quot;</span>
        }
      ]
    }
  ]
}</code></pre><h2>Create a profile</h2><p>A profile defines the connection parameters to your warehouse.</p><p>TODO</p><h2>Run project</h2><p>If you are happy with the statements that will be executed, you can execute them against your data warehouse, by providing the path to your <code>profile.json</code> file created in the previous step.</p><pre><code class="hljs language-bash" metaString="">dataform run --profile=&lt;path-to-profile.json&gt;</code></pre></div></div></div></div><script>__NEXT_DATA__ = {"props":{"pageProps":{}},"page":"/guides/command-line-interface","query":{},"buildId":"AM14GnVzd4TuMXCwbW_S3","nextExport":true};__NEXT_LOADED_PAGES__=[];__NEXT_REGISTER_PAGE=function(r,f){__NEXT_LOADED_PAGES__.push([r, f])}</script><script async="" id="__NEXT_PAGE__/guides/command-line-interface" src="/_next/static/AM14GnVzd4TuMXCwbW_S3/pages/guides/command-line-interface.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/AM14GnVzd4TuMXCwbW_S3/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/_next/static/AM14GnVzd4TuMXCwbW_S3/pages/_error.js"></script><script src="/_next/static/runtime/webpack-42652fa8b82c329c0559.js" async=""></script><script src="/_next/static/chunks/commons.f702609f3499fbcc7736.js" async=""></script><script src="/_next/static/runtime/main-800a4adf7c4f804bfe9c.js" async=""></script></div></body></html>